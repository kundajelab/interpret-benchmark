{
    "metadata": {
        "total_records": 2,
        "best_valid_key_metric": 0.7475930647362748,
        "best_saved_files_config": {
            "weights_file": "model_files/record_2_model_T1TNa_modelWeights.h5",
            "json_file": "model_files/record_2_model_T1TNa_modelJson.json",
            "directory": "model_files",
            "prefix": "model_T1TNa"
        }
    },
    "records": [
        {
            "record_number": 2,
            "message": "freeze all except last layer",
            "best_valid_key_metric": 0.7475930647362748,
            "best_valid_perf_info": {
                "epoch": 4,
                "valid_key_metric": 0.7475930647362748,
                "train_key_metric": 0.7498600824333924,
                "valid_all_stats": {
                    "per_output_auROC": [
                        0.7193596877046499,
                        0.7316857149965171,
                        0.7896510834064727,
                        0.7507030417850269,
                        0.7465657957887073
                    ],
                    "mean_auROC": 0.7475930647362748,
                    "per_output_auPRC": [
                        0.2296679112792238,
                        0.19602546785093622,
                        0.3188367370342379,
                        0.2415128380907869,
                        0.2501962874984116
                    ],
                    "mean_auPRC": 0.2472478483507193,
                    "per_output_balanced_accuracy": [
                        0.5,
                        0.5,
                        0.5,
                        0.5,
                        0.5
                    ],
                    "mean_balanced_accuracy": 0.5,
                    "per_output_unbalanced_accuracy": [
                        0.9170013547373848,
                        0.9351284602750237,
                        0.9268561700495138,
                        0.9216769970387598,
                        0.9162580474997303
                    ],
                    "mean_unbalanced_accuracy": 0.9233842059200825
                }
            },
            "key_metric_history": [
                [
                    "train",
                    "valid"
                ],
                [
                    0.7462260205536095,
                    0.7449332677416892
                ],
                [
                    0.7535010530115026,
                    0.7466528837947688
                ],
                [
                    0.7552582867048883,
                    0.747208782193922
                ],
                [
                    0.7498600824333924,
                    0.7475930647362748
                ]
            ],
            "all_valid_metrics_history": {},
            "saved_files_config": {
                "weights_file": "model_files/record_2_model_T1TNa_modelWeights.h5",
                "json_file": "model_files/record_2_model_T1TNa_modelJson.json",
                "directory": "model_files",
                "prefix": "model_T1TNa"
            },
            "model_creator_info": {
                "pretrained_model_config": {
                    "weight_file": "divergent421_model.weights.h5",
                    "json_file": "divergent421_model.arch.json",
                    "last_layer_to_take": -3,
                    "last_layer_to_fix": -3
                },
                "layers_config": [
                    {
                        "class": "keras.layers.core.Dense",
                        "kwargs": {
                            "output_dim": 5,
                            "name": "dense_3"
                        }
                    },
                    {
                        "class": "keras.layers.core.Activation",
                        "kwargs": {
                            "activation": "sigmoid"
                        }
                    }
                ],
                "optimizer_config": {
                    "class": "keras.optimizers.Adam",
                    "kwargs": {
                        "lr": 0.0001
                    }
                },
                "loss": {
                    "modules_to_load": [
                        "keras_genomics"
                    ],
                    "func": "keras_genomics.losses.ambig_binary_crossentropy"
                }
            },
            "other_data_loaders_info": {
                "train": {
                    "batch_size": 200,
                    "rc_augment": true,
                    "num_to_load_for_eval": 50000,
                    "wrap_in_keys": null,
                    "bed_source": "train_all_labels.bed.gz",
                    "fasta_data_source": "/mnt/data/annotations/by_organism/human/hg19.GRCh37/hg19.genome.fa",
                    "labels_dtype": "int",
                    "randomize_after_pass": true,
                    "random_seed": 1
                }
            },
            "model_trainer_info": {
                "seed": 1234,
                "samples_per_epoch": 500,
                "stopping_criterion_config": {
                    "class": "EarlyStopping",
                    "kwargs": {
                        "max_epochs": 300,
                        "epochs_to_wait": 10
                    }
                },
                "class_weight": null,
                "report_all_valid_metrics_every_epoch": false,
                "reparameterizer": null
            },
            "training_metadata": {
                "termination_condition": "<type 'exceptions.ValueError'>",
                "total_epochs_trained_for": 4
            }
        },
        {
            "record_number": 1,
            "message": "training from scratch",
            "best_valid_key_metric": 0.44952830439202496,
            "best_valid_perf_info": {
                "epoch": 1,
                "valid_key_metric": 0.44952830439202496,
                "train_key_metric": 0.4596246686210265,
                "valid_all_stats": {
                    "per_output_auROC": [
                        0.4095335004471845,
                        0.4278591793071094,
                        0.4909194238637741,
                        0.4429398917984828,
                        0.4763895265435739
                    ],
                    "mean_auROC": 0.44952830439202496,
                    "per_output_auPRC": [
                        0.06696990901201694,
                        0.05598092922430142,
                        0.06520331146722921,
                        0.06843102449067845,
                        0.07743081757636606
                    ],
                    "mean_auPRC": 0.06680319835411841,
                    "per_output_balanced_accuracy": [
                        0.49999346302688,
                        0.49999358974358976,
                        0.49999353253136725,
                        0.4999934961887666,
                        0.49999345772381126
                    ],
                    "mean_balanced_accuracy": 0.49999350784288304,
                    "per_output_unbalanced_accuracy": [
                        0.916989365910971,
                        0.9351164714486099,
                        0.9268441812231001,
                        0.9216650082123461,
                        0.9162460586733164
                    ],
                    "mean_unbalanced_accuracy": 0.9233722170936687
                }
            },
            "training_metadata": {
                "termination_condition": "KeyboardInterrupt",
                "total_epochs_trained_for": 3
            },
            "other_data_loaders_info": {
                "train": {
                    "batch_size": 200,
                    "rc_augment": true,
                    "num_to_load_for_eval": 50000,
                    "wrap_in_keys": null,
                    "bed_source": "train_all_labels.bed.gz",
                    "fasta_data_source": "/mnt/data/annotations/by_organism/human/hg19.GRCh37/hg19.genome.fa",
                    "labels_dtype": "int",
                    "randomize_after_pass": true,
                    "random_seed": 1
                }
            },
            "model_trainer_info": {
                "seed": 1234,
                "samples_per_epoch": 500,
                "stopping_criterion_config": {
                    "class": "EarlyStopping",
                    "kwargs": {
                        "max_epochs": 300,
                        "epochs_to_wait": 10
                    }
                },
                "class_weight": null,
                "report_all_valid_metrics_every_epoch": false,
                "reparameterizer": null
            },
            "model_creator_info": {
                "pretrained_model_config": null,
                "layers_config": [
                    {
                        "class": "keras.layers.convolutional.Convolution1D",
                        "kwargs": {
                            "input_shape": [
                                1000,
                                4
                            ],
                            "filter_length": 19,
                            "border_mode": "valid",
                            "nb_filter": 300
                        }
                    },
                    {
                        "class": "keras.layers.normalization.BatchNormalization",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.Activation",
                        "kwargs": {
                            "activation": "relu"
                        }
                    },
                    {
                        "class": "keras.layers.pooling.MaxPooling1D",
                        "kwargs": {
                            "border_mode": "valid",
                            "pool_length": 3,
                            "stride": 3
                        }
                    },
                    {
                        "class": "keras.layers.convolutional.Convolution1D",
                        "kwargs": {
                            "filter_length": 11,
                            "border_mode": "valid",
                            "nb_filter": 200,
                            "W_constraint": {
                                "autoload": true,
                                "class": "keras.constraints.MaxNorm",
                                "kwargs": {
                                    "axis": 0,
                                    "max_value": 7
                                }
                            }
                        }
                    },
                    {
                        "class": "keras.layers.normalization.BatchNormalization",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.Activation",
                        "kwargs": {
                            "activation": "relu"
                        }
                    },
                    {
                        "class": "keras.layers.pooling.MaxPooling1D",
                        "kwargs": {
                            "border_mode": "valid",
                            "pool_length": 4,
                            "stride": 4
                        }
                    },
                    {
                        "class": "keras.layers.convolutional.Convolution1D",
                        "kwargs": {
                            "filter_length": 7,
                            "border_mode": "valid",
                            "nb_filter": 200,
                            "W_constraint": {
                                "autoload": true,
                                "class": "keras.constraints.MaxNorm",
                                "kwargs": {
                                    "axis": 0,
                                    "max_value": 7
                                }
                            }
                        }
                    },
                    {
                        "class": "keras.layers.normalization.BatchNormalization",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.Activation",
                        "kwargs": {
                            "activation": "relu"
                        }
                    },
                    {
                        "class": "keras.layers.core.Flatten",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.core.Dense",
                        "kwargs": {
                            "output_dim": 1000,
                            "activity_regularizer": {
                                "autoload": true,
                                "class": "keras.regularizers.L1L2",
                                "kwargs": {
                                    "l1": "1e-05"
                                }
                            },
                            "W_constraint": {
                                "autoload": true,
                                "class": "keras.constraints.MaxNorm",
                                "kwargs": {
                                    "max_value": 7,
                                    "axis": 0
                                }
                            }
                        }
                    },
                    {
                        "class": "keras.layers.normalization.BatchNormalization",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.advanced_activations.PReLU",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.core.Dropout",
                        "kwargs": {
                            "p": 0.3
                        }
                    },
                    {
                        "class": "keras.layers.core.Dense",
                        "kwargs": {
                            "output_dim": 1000,
                            "activity_regularizer": {
                                "autoload": true,
                                "class": "keras.regularizers.L1L2",
                                "kwargs": {
                                    "l1": "1e-05"
                                }
                            },
                            "W_constraint": {
                                "autoload": true,
                                "class": "keras.constraints.MaxNorm",
                                "kwargs": {
                                    "max_value": 7,
                                    "axis": 0
                                }
                            }
                        }
                    },
                    {
                        "class": "keras.layers.normalization.BatchNormalization",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.advanced_activations.PReLU",
                        "kwargs": {}
                    },
                    {
                        "class": "keras.layers.core.Dropout",
                        "kwargs": {
                            "p": 0.3
                        }
                    },
                    {
                        "class": "keras.layers.core.Dense",
                        "kwargs": {
                            "output_dim": 5
                        }
                    },
                    {
                        "class": "keras.layers.core.Activation",
                        "kwargs": {
                            "activation": "sigmoid"
                        }
                    }
                ],
                "optimizer_config": {
                    "class": "keras.optimizers.Adam",
                    "kwargs": {
                        "lr": 0.0001
                    }
                },
                "loss": {
                    "modules_to_load": [
                        "keras_genomics"
                    ],
                    "func": "keras_genomics.losses.ambig_binary_crossentropy"
                }
            },
            "key_metric_history": [
                [
                    "train",
                    "valid"
                ],
                [
                    0.4596246686210265,
                    0.44952830439202496
                ],
                [
                    0.40291368355693213,
                    0.39436057388960555
                ],
                [
                    0.38034178409744396,
                    0.3888635319594854
                ]
            ],
            "all_valid_metrics_history": {},
            "saved_files_config": {
                "weights_file": "model_files/record_1_model_hKlr5_modelWeights.h5",
                "json_file": "model_files/record_1_model_hKlr5_modelJson.json",
                "directory": "model_files",
                "prefix": "model_hKlr5"
            }
        }
    ]
}